# ============================================================
# LiBuTS â€” Reproducible Pipeline Makefile
# ============================================================

PYTHON = python

.PHONY: all preprocess physics ml uncertainty optimize app clean

all: preprocess physics ml uncertainty optimize app

preprocess:
	@echo "ðŸ”¹ Step 1: Fetching inputs..."
	$(PYTHON) notebooks/01_inputs_retrieval.py

physics:
	@echo "ðŸ”¹ Step 2: Physics SSI..."
	$(PYTHON) notebooks/02_physics_suitability.py

ml:
	@echo "ðŸ”¹ Step 3: ML + SHAP..."
	$(PYTHON) notebooks/03_ml_rf_shap.py

uncertainty:
	@echo "ðŸ”¹ Step 4: Uncertainty enrichment..."
	$(PYTHON) notebooks/04_uncertainty_enrichment.py

optimize:
	@echo "ðŸ”¹ Step 5: NSGA-II optimization..."
	$(PYTHON) notebooks/05_restoration_planner.py

app:
	@echo "ðŸŒŠ Launching dashboard..."
	cd app && $(PYTHON) dashboard.py

clean:
	@echo "ðŸ§¹ Cleaning outputs..."
	rm -rf outputs/*
